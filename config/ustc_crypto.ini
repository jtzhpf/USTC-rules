[custom]
ruleset=ğŸŒ ä»£ç†å‡ºå£,https://raw.githubusercontent.com/jtzhpf/USTC-rules/main/dns.list
ruleset=ğŸŒ ä»£ç†å‡ºå£,https://raw.githubusercontent.com/jtzhpf/USTC-rules/main/private.list
ruleset=DIRECT,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list
ruleset=ğŸ¯ ç›´è¿å‡ºå£,https://raw.githubusercontent.com/jtzhpf/USTC-rules/main/incorrect_ads.list
ruleset=â›”ï¸ å¹¿å‘Šæ‹¦æˆª,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list
ruleset=â›”ï¸ å¹¿å‘Šæ‹¦æˆª,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list
ruleset=â›”ï¸ å¹¿å‘Šæ‹¦æˆª,https://raw.githubusercontent.com/jtzhpf/USTC-rules/main/ban.list
ruleset=â›”ï¸ å¹¿å‘Šæ‹¦æˆª,https://raw.githubusercontent.com/limbopro/Adblock4limbo/main/Adblock4limbo_surge.list
ruleset=ğŸ¯ ç›´è¿å‡ºå£,https://raw.githubusercontent.com/jtzhpf/USTC-rules/main/cn.list
ruleset=ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹,https://raw.githubusercontent.com/jtzhpf/USTC-rules/main/hk.list
ruleset=ğŸ’° åŠ å¯†è´§å¸,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/Crypto.list
ruleset=âœ¨ äººå·¥æ™ºèƒ½,https://raw.githubusercontent.com/jtzhpf/USTC-rules/main/ai.list
ruleset=ğŸŒ ä»£ç†å‡ºå£,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyLite.list
ruleset=ğŸŒ ä»£ç†å‡ºå£,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list
ruleset=ğŸŒ ä»£ç†å‡ºå£,https://raw.githubusercontent.com/jtzhpf/USTC-rules/main/proxy.list
ruleset=ğŸŒ ä»£ç†å‡ºå£,https://raw.githubusercontent.com/LM-Firefly/Rules/master/PROXY/Porn.list
ruleset=ğŸªŸ å¾®è½¯æœåŠ¡,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Microsoft.list
ruleset=ğŸ è‹¹æœæœåŠ¡,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Apple.list
ruleset=ğŸ”¬ å›æ ¡ä»£ç†,https://raw.githubusercontent.com/jtzhpf/USTC-rules/main/academic.list
ruleset=DIRECT,[]DOMAIN-SUFFIX,ustc.edu.cn
ruleset=DIRECT,https://raw.githubusercontent.com/LM-Firefly/Rules/master/Special/DMCA-Sensitive.list
ruleset=DIRECT,https://raw.githubusercontent.com/jtzhpf/USTC-rules/main/loongson.list
ruleset=âœˆï¸ ç”µæŠ¥ä¿¡æ¯,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.list
ruleset=ğŸ¯ ç›´è¿å‡ºå£,[]GEOIP,CN
ruleset=ğŸŸ æ¼ç½‘ä¹‹é±¼,[]FINAL

custom_proxy_group=ğŸŒ ä»£ç†å‡ºå£`select`[]ğŸ”¯ ç¾å›½æ•…éšœè½¬ç§»`[]ğŸ”¯ æ—¥æœ¬æ•…éšœè½¬ç§»`[]â™»ï¸ ç¾å›½è‡ªåŠ¨`[]â™»ï¸ æ—¥æœ¬è‡ªåŠ¨`[]âš–ï¸ ç¾å›½å‡è¡¡`[]âš–ï¸ æ—¥æœ¬å‡è¡¡`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡ªğŸ‡º æ¬§ç›ŸèŠ‚ç‚¹`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©`
custom_proxy_group=ğŸ¯ ç›´è¿å‡ºå£`select`[]DIRECT`(^(?=.*(?:CN-USTC)).*)`
custom_proxy_group=âœ¨ äººå·¥æ™ºèƒ½`select`[]ğŸŒ ä»£ç†å‡ºå£`[]ğŸ”¯ ç¾å›½æ•…éšœè½¬ç§»`[]ğŸ”¯ æ—¥æœ¬æ•…éšœè½¬ç§»`[]â™»ï¸ ç¾å›½è‡ªåŠ¨`[]â™»ï¸ æ—¥æœ¬è‡ªåŠ¨`[]âš–ï¸ ç¾å›½å‡è¡¡`[]âš–ï¸ æ—¥æœ¬å‡è¡¡`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡ªğŸ‡º æ¬§ç›ŸèŠ‚ç‚¹`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©`
custom_proxy_group=ğŸªŸ å¾®è½¯æœåŠ¡`select`[]ğŸŒ ä»£ç†å‡ºå£`[]ğŸ¯ ç›´è¿å‡ºå£`[]ğŸ”¯ ç¾å›½æ•…éšœè½¬ç§»`[]ğŸ”¯ æ—¥æœ¬æ•…éšœè½¬ç§»`[]â™»ï¸ ç¾å›½è‡ªåŠ¨`[]â™»ï¸ æ—¥æœ¬è‡ªåŠ¨`[]âš–ï¸ ç¾å›½å‡è¡¡`[]âš–ï¸ æ—¥æœ¬å‡è¡¡`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡ªğŸ‡º æ¬§ç›ŸèŠ‚ç‚¹`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©`
custom_proxy_group=ğŸ è‹¹æœæœåŠ¡`select`[]ğŸ¯ ç›´è¿å‡ºå£`[]ğŸŒ ä»£ç†å‡ºå£`[]ğŸ”¯ ç¾å›½æ•…éšœè½¬ç§»`[]ğŸ”¯ æ—¥æœ¬æ•…éšœè½¬ç§»`[]â™»ï¸ ç¾å›½è‡ªåŠ¨`[]â™»ï¸ æ—¥æœ¬è‡ªåŠ¨`[]âš–ï¸ ç¾å›½å‡è¡¡`[]âš–ï¸ æ—¥æœ¬å‡è¡¡`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡ªğŸ‡º æ¬§ç›ŸèŠ‚ç‚¹`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©`
custom_proxy_group=âœˆï¸ ç”µæŠ¥ä¿¡æ¯`select`[]ğŸŒ ä»£ç†å‡ºå£`[]ğŸ’« ä»»æ’­å‡ºå£`[]ğŸ¯ ç›´è¿å‡ºå£`[]ğŸ”¯ ç¾å›½æ•…éšœè½¬ç§»`[]ğŸ”¯ æ—¥æœ¬æ•…éšœè½¬ç§»`[]â™»ï¸ ç¾å›½è‡ªåŠ¨`[]â™»ï¸ æ—¥æœ¬è‡ªåŠ¨`[]âš–ï¸ ç¾å›½å‡è¡¡`[]âš–ï¸ æ—¥æœ¬å‡è¡¡`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡ªğŸ‡º æ¬§ç›ŸèŠ‚ç‚¹`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©`
custom_proxy_group=ğŸ”¬ å›æ ¡ä»£ç†`select`(^(?=.*(?:CN-USTC)).*)`[]ğŸ¯ ç›´è¿å‡ºå£`[]ğŸŒ ä»£ç†å‡ºå£`[]ğŸ”¯ ç¾å›½æ•…éšœè½¬ç§»`[]ğŸ”¯ æ—¥æœ¬æ•…éšœè½¬ç§»`[]â™»ï¸ ç¾å›½è‡ªåŠ¨`[]â™»ï¸ æ—¥æœ¬è‡ªåŠ¨`[]âš–ï¸ ç¾å›½å‡è¡¡`[]âš–ï¸ æ—¥æœ¬å‡è¡¡`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡ªğŸ‡º æ¬§ç›ŸèŠ‚ç‚¹`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©`
custom_proxy_group=ğŸ’° åŠ å¯†è´§å¸`select`(^(?=.*(?:HK-USTC)).*)`[]ğŸŒ ä»£ç†å‡ºå£`[]ğŸ¯ ç›´è¿å‡ºå£`[]ğŸ”¯ ç¾å›½æ•…éšœè½¬ç§»`[]ğŸ”¯ æ—¥æœ¬æ•…éšœè½¬ç§»`[]â™»ï¸ ç¾å›½è‡ªåŠ¨`[]â™»ï¸ æ—¥æœ¬è‡ªåŠ¨`[]âš–ï¸ ç¾å›½å‡è¡¡`[]âš–ï¸ æ—¥æœ¬å‡è¡¡`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡ªğŸ‡º æ¬§ç›ŸèŠ‚ç‚¹`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©`
custom_proxy_group=ğŸŸ æ¼ç½‘ä¹‹é±¼`select`[]ğŸŒ ä»£ç†å‡ºå£`[]ğŸ¯ ç›´è¿å‡ºå£`[]ğŸ”¯ ç¾å›½æ•…éšœè½¬ç§»`[]ğŸ”¯ æ—¥æœ¬æ•…éšœè½¬ç§»`[]â™»ï¸ ç¾å›½è‡ªåŠ¨`[]â™»ï¸ æ—¥æœ¬è‡ªåŠ¨`[]âš–ï¸ ç¾å›½å‡è¡¡`[]âš–ï¸ æ—¥æœ¬å‡è¡¡`[]ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`[]ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`[]ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`[]ğŸ‡ªğŸ‡º æ¬§ç›ŸèŠ‚ç‚¹`[]ğŸš€ æ‰‹åŠ¨é€‰æ‹©`

# åœ°åŒºåŸºç¡€èŠ‚ç‚¹ç»„
custom_proxy_group=ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹`select`(æ¸¯|HK|hk|Hong Kong|HongKong|hongkong)`http://www.gstatic.com/generate_204`600,,50
custom_proxy_group=ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹`select`(^(?!.*(CN-USTC|HK-USTC|EU-USTC)).*(ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States).*$)`http://www.gstatic.com/generate_204`300,,50
custom_proxy_group=ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹`select`(æ—¥|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan|Tokyo|Osaka)`http://www.gstatic.com/generate_204`300,,50
custom_proxy_group=ğŸ‡ªğŸ‡º æ¬§ç›ŸèŠ‚ç‚¹`select`(EU)`http://www.gstatic.com/generate_204`300,,50

# å…¶ä»–é€šç”¨ç»„
custom_proxy_group=ğŸš€ æ‰‹åŠ¨é€‰æ‹©`select`(^(?!.*(CN-USTC|ç›´è¿)).*)
custom_proxy_group=â›”ï¸ å¹¿å‘Šæ‹¦æˆª`select`[]REJECT`[]ğŸŒ ä»£ç†å‡ºå£`[]ğŸ¯ ç›´è¿å‡ºå£`[]ğŸ’« ä»»æ’­å‡ºå£`
custom_proxy_group=ğŸ’« ä»»æ’­å‡ºå£`load-balance`round-robin`(ä»»æ’­èŠ‚ç‚¹)`http://www.gstatic.com/generate_204`300,,50

# ç¾å›½è‡ªåŠ¨åŒ–å¥—ä»¶
custom_proxy_group=âš–ï¸ ç¾å›½å‡è¡¡`load-balance`consistent-hashing`(^(?!.*(CN-USTC|HK-USTC|EU-USTC|US-USTC)).*(ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States).*$)`http://www.gstatic.com/generate_204`300,,50
custom_proxy_group=â™»ï¸ ç¾å›½è‡ªåŠ¨`url-test`(^(?!.*(CN-USTC|HK-USTC|EU-USTC|US-USTC)).*(ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States).*$)`http://www.gstatic.com/generate_204`300,,50
custom_proxy_group=ğŸ”¯ ç¾å›½æ•…éšœè½¬ç§»`fallback`(^(?!.*(CN-USTC|HK-USTC|EU-USTC|US-USTC)).*(ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States).*$)`http://www.gstatic.com/generate_204`300,,50

# æ—¥æœ¬è‡ªåŠ¨åŒ–å¥—ä»¶
custom_proxy_group=âš–ï¸ æ—¥æœ¬å‡è¡¡`load-balance`consistent-hashing`(æ—¥|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan|Tokyo|Osaka)`http://www.gstatic.com/generate_204`300,,50
custom_proxy_group=â™»ï¸ æ—¥æœ¬è‡ªåŠ¨`url-test`(æ—¥|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan|Tokyo|Osaka)`http://www.gstatic.com/generate_204`300,,50
custom_proxy_group=ğŸ”¯ æ—¥æœ¬æ•…éšœè½¬ç§»`fallback`(æ—¥|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan|Tokyo|Osaka)`http://www.gstatic.com/generate_204`300,,50

#{% if request.target == "clash" or request.target == "clashr" %}
#custom_proxy_group=ğŸ“¡ CN-USTC_1ä¸­è½¬`relay`CN-USTC_1`(^cdn$)`http://www.gstatic.com/generate_204`300,10,50
#custom_proxy_group=ğŸ“¡ CN-USTC_2ä¸­è½¬`relay`CN-USTC_2`(^cdn$)`http://www.gstatic.com/generate_204`300,10,50
#custom_proxy_group=ğŸ“¡ HK-USTC_1ä¸­è½¬`relay`HK-USTC_1`(^cdn$)`http://www.gstatic.com/generate_204`300,10,50
#custom_proxy_group=ğŸ“¡ HK-USTC_2ä¸­è½¬`relay`HK-USTC_2`(^cdn$)`http://www.gstatic.com/generate_204`300,10,50
#custom_proxy_group=ğŸ“¡ USTC-US_1ä¸­è½¬`relay`USTC-US_1`(^cdn$)`http://www.gstatic.com/generate_204`300,10,50
#custom_proxy_group=ğŸ“¡ USTC-US_2ä¸­è½¬`relay`USTC-US_2`(^cdn$)`http://www.gstatic.com/generate_204`300,10,50
#custom_proxy_group=ğŸ“¡ USTC-US_3ä¸­è½¬`relay`USTC-US_3`(^cdn$)`http://www.gstatic.com/generate_204`300,10,50
#{% endif %}
enable_rule_generator=true
overwrite_original_rules=true
clash.dns=1
